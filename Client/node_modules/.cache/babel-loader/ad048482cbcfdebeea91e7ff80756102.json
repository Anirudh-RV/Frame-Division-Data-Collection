{"ast":null,"code":"var _jsxFileName = \"/Users/anirudhrv/Desktop/Misc/FrameCollectionApplication/Frame-Division-Data-Collection/Client/src/SPA_components/WorkingArea.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Progress } from 'reactstrap';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport './App.css';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Bootstrap from \"react-bootstrap\";\nimport { FormGroup, FormControl } from \"react-bootstrap\";\nimport { Link } from 'react-router-dom';\n\nclass WorkingArea extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.downloadallfiles = () => {\n      axios.post(\"http://192.168.1.8:4000/downloadfiles/\", {\n        username: this.props.location.state.userName\n      }).then(res => {\n        // then print response status\n        //toast.success('upload success')\n        console.log(res); // after creating the zip file, now download, delay for zip file creation\n\n        this.wait(5000);\n        this.testall();\n      }).catch(err => {\n        // then print response status\n        console.log(err);\n      });\n    };\n\n    this.testall = () => {\n      window.open('http://192.168.1.8:4000/img/' + this.props.location.state.userName + '.zip');\n    };\n\n    this.dividetheframes = () => {\n      var username = this.props.location.state.userName;\n      var videoname = this.videoname.value;\n      var imagetype = 'png';\n      var videourl = 'http://localhost:4000/videos/' + username + '/downloads/' + videoname + '.mp4';\n      var low = '1';\n      var high = '5';\n      var data = {\n        'username': username,\n        'videoname': videoname,\n        'videourl': videourl,\n        'imagetype': imagetype,\n        'low': low,\n        'high': high\n      };\n      console.log(\"inside the testdjangoapi function : \");\n      axios.post(\"http://127.0.0.1:8000/index/\", data).then(res => {\n        // then print response status\n        //toast.success('upload success')\n        console.log(\"API message : \");\n        console.log(res);\n        console.log(res.data[\"message\"]);\n\n        if (this.DataRetrieved) {\n          this.DataRetrieved.innerHTML = res.data[\"message\"];\n        }\n\n        this.downloadallfiles();\n      }).catch(err => {\n        // then print response status\n        //  toast.error('upload fail')\n        console.log(\"fail\");\n        console.log(err);\n        this.dividetheframes();\n      });\n    };\n\n    this.wait = ms => {\n      var d = new Date();\n      var d2 = null;\n\n      do {\n        d2 = new Date();\n      } while (d2 - d < ms);\n    };\n\n    this.handleSubmit = () => {\n      this.Message.innerHTML = \"The process may take a few minutes...\";\n      axios.post(\"http://localhost:4000/download/\", {\n        username: this.props.location.state.userName,\n        videoname: this.videoname.value,\n        videourl: this.videourl.value\n      }).then(res => {\n        // then print response status\n        //toast.success('upload success')\n        console.log(res);\n        this.wait(10000);\n        this.dividetheframes();\n      }).catch(err => {\n        // then print response status\n        //  toast.error('upload fail')\n        console.log(\"fail\");\n        console.log(err);\n      });\n    };\n\n    this.Logout = () => {\n      const cookies = new Cookies();\n      cookies.remove('username');\n      window.location.reload(false);\n    };\n  }\n\n  componentDidMount() {\n    // OnLoad function\n    // if counter exceeds 5, then stop process\n    this.heading.innerHTML = this.props.location.state.userName + \"</br>Start Your Data Science Jounrney with XP-2\";\n    this.buttonpressed = 0;\n    this.counter = 0;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"BackgroundSign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"AppName\",\n      ref: c => this.heading = c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"SignIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      class: \"SignInHead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"X-P2\"), React.createElement(\"p\", {\n      class: \"SignUpHead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Begin the data gathering process with just a few steps.\"), \"\\xA0\", React.createElement(FormGroup, {\n      controlId: \"url\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      autoFocus: true,\n      placeholder: \"Enter the url of the youtube video\",\n      ref: c => this.videourl = c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(FormGroup, {\n      controlId: \"url\",\n      bsSize: \"large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      autoFocus: true,\n      placeholder: \"Enter the name of the video\",\n      ref: c => this.videoname = c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(Button, {\n      className: \"StartButton\",\n      block: true,\n      bsSize: \"large\",\n      onClick: this.handleSubmit,\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Download\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"ErrorMessage\",\n      ref: c => this.Message = c,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"SecondBoxSignIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"LinkToAccount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \" Done downloading the files?\\xA0\", React.createElement(Link, {\n      className: \"LinkToSignUp\",\n      onClick: this.Logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Log out\"))));\n  }\n\n}\n\nexport default WorkingArea;","map":{"version":3,"sources":["/Users/anirudhrv/Desktop/Misc/FrameCollectionApplication/Frame-Division-Data-Collection/Client/src/SPA_components/WorkingArea.js"],"names":["React","Component","axios","Progress","BrowserRouter","Route","Switch","Redirect","Cookies","Form","Button","Bootstrap","FormGroup","FormControl","Link","WorkingArea","downloadallfiles","post","username","props","location","state","userName","then","res","console","log","wait","testall","catch","err","window","open","dividetheframes","videoname","value","imagetype","videourl","low","high","data","DataRetrieved","innerHTML","ms","d","Date","d2","handleSubmit","Message","Logout","cookies","remove","reload","componentDidMount","heading","buttonpressed","counter","render","c"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,YAAvB;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,MAA/B,EAAuCC,QAAvC,QAAuD,kBAAvD;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,SAAQC,SAAR,EAAmBC,WAAnB,QAAqC,iBAArC;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,MAAMC,WAAN,SAA0Bd,SAA1B,CAAoC;AAAA;AAAA;;AAAA,SAWpCe,gBAXoC,GAWjB,MAAK;AACtBd,MAAAA,KAAK,CAACe,IAAN,CAAW,wCAAX,EAAoD;AAClDC,QAAAA,QAAQ,EAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BC;AADa,OAApD,EAGGC,IAHH,CAGQC,GAAG,IAAI;AAAE;AACb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAFW,CAGX;;AACA,aAAKG,IAAL,CAAU,IAAV;AACA,aAAKC,OAAL;AACD,OATH,EAUGC,KAVH,CAUSC,GAAG,IAAI;AACd;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACC,OAbH;AAcD,KA1BmC;;AAAA,SA4BpCF,OA5BoC,GA4B1B,MAAK;AACbG,MAAAA,MAAM,CAACC,IAAP,CAAY,iCAA+B,KAAKb,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BC,QAAzD,GAAkE,MAA9E;AACD,KA9BmC;;AAAA,SAgCpCW,eAhCoC,GAgClB,MAAK;AACrB,UAAIf,QAAQ,GAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BC,QAAzC;AACA,UAAIY,SAAS,GAAI,KAAKA,SAAL,CAAeC,KAAhC;AACA,UAAIC,SAAS,GAAG,KAAhB;AACA,UAAIC,QAAQ,GAAG,kCAAgCnB,QAAhC,GAAyC,aAAzC,GAAuDgB,SAAvD,GAAiE,MAAhF;AACA,UAAII,GAAG,GAAG,GAAV;AACA,UAAIC,IAAI,GAAG,GAAX;AACA,UAAIC,IAAI,GAAG;AAAC,oBAAWtB,QAAZ;AAAqB,qBAAYgB,SAAjC;AAA2C,oBAAWG,QAAtD;AAA+D,qBAAYD,SAA3E;AAAqF,eAAME,GAA3F;AAA+F,gBAAOC;AAAtG,OAAX;AACAd,MAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ;AACAxB,MAAAA,KAAK,CAACe,IAAN,CAAW,8BAAX,EAA0CuB,IAA1C,EACGjB,IADH,CACQC,GAAG,IAAI;AAAE;AACb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACgB,IAAJ,CAAS,SAAT,CAAZ;;AACA,YAAG,KAAKC,aAAR,EAAuB;AACtB,eAAKA,aAAL,CAAmBC,SAAnB,GAA+BlB,GAAG,CAACgB,IAAJ,CAAS,SAAT,CAA/B;AACF;;AACD,aAAKxB,gBAAL;AACC,OAVH,EAWGa,KAXH,CAWSC,GAAG,IAAI;AAAE;AAChB;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACA,aAAKG,eAAL;AACC,OAhBH;AAiBD,KA1DmC;;AAAA,SA4DpCN,IA5DoC,GA4D5BgB,EAAD,IAAO;AACd,UAAIC,CAAC,GAAG,IAAIC,IAAJ,EAAR;AACA,UAAIC,EAAE,GAAG,IAAT;;AACA,SAAG;AAAEA,QAAAA,EAAE,GAAG,IAAID,IAAJ,EAAL;AAAkB,OAAvB,QACMC,EAAE,GAACF,CAAH,GAAOD,EADb;AAEC,KAjEmC;;AAAA,SAoEpCI,YApEoC,GAoErB,MAAK;AAClB,WAAKC,OAAL,CAAaN,SAAb,GAAyB,uCAAzB;AACAxC,MAAAA,KAAK,CAACe,IAAN,CAAW,iCAAX,EAA6C;AAC3CC,QAAAA,QAAQ,EAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BC,QADM;AAE3CY,QAAAA,SAAS,EAAG,KAAKA,SAAL,CAAeC,KAFgB;AAG3CE,QAAAA,QAAQ,EAAG,KAAKA,QAAL,CAAcF;AAHkB,OAA7C,EAKGZ,IALH,CAKQC,GAAG,IAAI;AAAE;AACb;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,aAAKG,IAAL,CAAU,KAAV;AACA,aAAKM,eAAL;AAED,OAXH,EAYGJ,KAZH,CAYSC,GAAG,IAAI;AACd;AACA;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACC,OAjBH;AAkBD,KAxFmC;;AAAA,SA0FpCmB,MA1FoC,GA0F3B,MAAK;AACV,YAAMC,OAAO,GAAG,IAAI1C,OAAJ,EAAhB;AACA0C,MAAAA,OAAO,CAACC,MAAR,CAAe,UAAf;AACApB,MAAAA,MAAM,CAACX,QAAP,CAAgBgC,MAAhB,CAAuB,KAAvB;AACH,KA9FmC;AAAA;;AAEpCC,EAAAA,iBAAiB,GAAE;AACnB;AACA;AACA,SAAKC,OAAL,CAAaZ,SAAb,GAAyB,KAAKvB,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0BC,QAA1B,GAAmC,iDAA5D;AACA,SAAKiC,aAAL,GAAqB,CAArB;AACA,SAAKC,OAAL,GAAe,CAAf;AAEC;;AAuFDC,EAAAA,MAAM,GAAG;AACL,WACE;AAAK,MAAA,SAAS,EAAG,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAI,MAAA,SAAS,EAAG,SAAhB;AAA0B,MAAA,GAAG,EAAIC,CAAC,IAAI,KAAKJ,OAAL,GAAeI,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,QAAQ,EAAE,KAAKX,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAG,MAAA,KAAK,EAAG,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,EAEA;AAAG,MAAA,KAAK,EAAG,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iEAFA,UAIE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,KAArB;AAA2B,MAAA,MAAM,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,WAAW,EAAC,oCAFd;AAGE,MAAA,GAAG,EAAIW,CAAC,IAAI,KAAKrB,QAAL,GAAgBqB,CAH9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,EAYE,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,KAArB;AAA2B,MAAA,MAAM,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,WAAW,EAAC,6BAFd;AAGE,MAAA,GAAG,EAAIA,CAAC,IAAI,KAAKxB,SAAL,GAAiBwB,CAH/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAZF,EAoBE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAgC,MAAA,KAAK,MAArC;AAAsC,MAAA,MAAM,EAAC,OAA7C;AAAqD,MAAA,OAAO,EAAE,KAAKX,YAAnE;AAAiF,MAAA,IAAI,EAAC,QAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBF,EAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvBF,EAwBE;AAAG,MAAA,SAAS,EAAG,cAAf;AAA8B,MAAA,GAAG,EAAIW,CAAC,IAAI,KAAKV,OAAL,GAAeU,CAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBF,CADF,CAFA,EA8BA;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAG,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,cAAhB;AAA+B,MAAA,OAAO,EAAE,KAAKT,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CADF,CA9BA,CADF;AAsCD;;AAvIiC;;AA0IpC,eAAelC,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {Progress} from 'reactstrap';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nimport './App.css';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Bootstrap from \"react-bootstrap\";\nimport {FormGroup, FormControl} from \"react-bootstrap\";\nimport { Link } from 'react-router-dom';\n\nclass WorkingArea extends Component {\n\ncomponentDidMount(){\n// OnLoad function\n// if counter exceeds 5, then stop process\nthis.heading.innerHTML = this.props.location.state.userName+\"</br>Start Your Data Science Jounrney with XP-2\";\nthis.buttonpressed = 0;\nthis.counter = 0;\n\n}\n\ndownloadallfiles = () =>{\n  axios.post(\"http://192.168.1.8:4000/downloadfiles/\",{\n    username : this.props.location.state.userName\n  })\n    .then(res => { // then print response status\n      //toast.success('upload success')\n      console.log(res)\n      // after creating the zip file, now download, delay for zip file creation\n      this.wait(5000);\n      this.testall();\n    })\n    .catch(err => {\n    // then print response status\n    console.log(err)\n    })\n}\n\ntestall = () =>{\n  window.open('http://192.168.1.8:4000/img/'+this.props.location.state.userName+'.zip');\n}\n\ndividetheframes = () =>{\n  var username = this.props.location.state.userName\n  var videoname =  this.videoname.value\n  var imagetype = 'png'\n  var videourl = 'http://localhost:4000/videos/'+username+'/downloads/'+videoname+'.mp4'\n  var low = '1'\n  var high = '5'\n  var data = {'username':username,'videoname':videoname,'videourl':videourl,'imagetype':imagetype,'low':low,'high':high}\n  console.log(\"inside the testdjangoapi function : \")\n  axios.post(\"http://127.0.0.1:8000/index/\",data)\n    .then(res => { // then print response status\n      //toast.success('upload success')\n      console.log(\"API message : \")\n      console.log(res)\n      console.log(res.data[\"message\"])\n      if(this.DataRetrieved) {\n       this.DataRetrieved.innerHTML = res.data[\"message\"];\n    }\n    this.downloadallfiles();\n    })\n    .catch(err => { // then print response status\n    //  toast.error('upload fail')\n    console.log(\"fail\")\n    console.log(err)\n    this.dividetheframes();\n    })\n}\n\nwait = (ms) =>{\nvar d = new Date();\nvar d2 = null;\ndo { d2 = new Date(); }\nwhile(d2-d < ms);\n}\n\n\nhandleSubmit = () =>{\n  this.Message.innerHTML = \"The process may take a few minutes...\"\n  axios.post(\"http://localhost:4000/download/\",{\n    username : this.props.location.state.userName,\n    videoname : this.videoname.value,\n    videourl : this.videourl.value,\n  })\n    .then(res => { // then print response status\n      //toast.success('upload success')\n      console.log(res)\n      this.wait(10000);\n      this.dividetheframes();\n\n    })\n    .catch(err => {\n    // then print response status\n    //  toast.error('upload fail')\n    console.log(\"fail\")\n    console.log(err)\n    })\n}\n\nLogout = () =>{\n    const cookies = new Cookies()\n    cookies.remove('username');\n    window.location.reload(false);\n}\n\nrender() {\n    return (\n      <div className = \"BackgroundSign\">\n      <h1 className = \"AppName\" ref = {c => this.heading = c}></h1>\n      <div className=\"SignIn\">\n        <form onSubmit={this.handleSubmit}>\n        <p class = \"SignInHead\">X-P2</p>\n        <p class = \"SignUpHead\">Begin the data gathering process with just a few steps.</p>\n        &nbsp;\n          <FormGroup controlId=\"url\" bsSize=\"large\">\n            <FormControl\n              autoFocus\n              placeholder=\"Enter the url of the youtube video\"\n              ref = {c => this.videourl = c}\n            />\n          </FormGroup>\n\n          <FormGroup controlId=\"url\" bsSize=\"large\">\n            <FormControl\n              autoFocus\n              placeholder=\"Enter the name of the video\"\n              ref = {c => this.videoname = c}\n            />\n          </FormGroup>\n\n          <Button className=\"StartButton\" block bsSize=\"large\" onClick={this.handleSubmit} type=\"button\">\n            Download\n          </Button>\n          <br/>\n          <p className = \"ErrorMessage\" ref = {c => this.Message = c}></p>\n        </form>\n      </div>\n      <div className=\"SecondBoxSignIn\">\n        <p className = \"LinkToAccount\"> Done downloading the files?&nbsp;\n          <Link className=\"LinkToSignUp\" onClick={this.Logout}>Log out</Link>\n        </p>\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default WorkingArea;\n"]},"metadata":{},"sourceType":"module"}